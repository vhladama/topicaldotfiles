# if user has exported their own DOTFILES path already, use that
# instead of default (~/.dotfiles)
export DOTFILES=${DOTFILES-~/.dotfiles}

# Add binaries into the path
PATH=$DOTFILES/bin:$PATH
export PATH

# Source all source files for enabled topics
function src() {
  local file
  for file in $DOTFILES/topics-enabled/*/source.sh; do
    source "$file"
  done
}

# Run dotfiles script, then source.
function dotfiles() {
  $DOTFILES/bin/dotfiles "$@" && src
}

src
